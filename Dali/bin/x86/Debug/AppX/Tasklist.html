<!DOCTYPE html>

<script>
function getId() {
    var urlParamString = location.search.split("id=");
    if (urlParamString.length <= 1)
        return "";
    else {
        return urlParamString[1];
    }
}

function requestTasklist(id) {
    var url = "http://10.250.3.24:8085/mark/"+id;

    var request = new XMLHttpRequest();
    request.onreadystatechange = function() {
        if (request.readyState === 4) {
            if (request.status === 202) {
                console.log(request.responseText);
                var tasklist = JSON.parse(request.responseText);
		var text = "";
                document.getElementById("label").innerHTML = tasklist.Label;
		for (i in tasklist.Content) {
   			 text += "<li>" + tasklist.Content[i] + "</li>";
		}
		console.log(text)
                document.getElementById("tasklist").innerHTML = text
            } else {
                alert("Communication Error");
            }
        }
    };
    request.open("GET", url , true);
    request.send();
}

function loadTasklist() {
    var id = getId();
    console.log(id);

    var tasklist = requestTasklist(id)
}
</script>

<html>
<body onload="loadTasklist()">

<h3>Tasklist</h3>

<p id="label"></p>
<p id="tasklist"></p>

</body>
</html>